<!DOCTYPE html>
<html lang="en">

<style>
    .d3-tip {
        line-height: 1;
        font-weight: bold;
        padding: 12px;
        background: rgba(0, 0, 0, 0.8);
        color: #fff;
        border-radius: 2px;
    }
    /* Creates a small triangle extender for the tooltip */
    
    .d3-tip:after {
        box-sizing: border-box;
        display: inline;
        font-size: 10px;
        width: 100%;
        line-height: 1;
        color: rgba(0, 0, 0, 0.8);
        content: "\25BC";
        position: absolute;
        text-align: center;
    }
    /* Style northward tooltips differently */
    
    .d3-tip.n:after {
        margin: -1px 0 0 0;
        top: 100%;
        left: 0;
    }
</style>

<head>
    <!-- <link href="https://unpkg.com/tabulator-tables@4.1.4/dist/css/tabulator.min.css" rel="stylesheet"> -->
    <!-- <link href="https://unpkg.com/nouislider@13.1.1/distribute/nouislider.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
    <form>
        <table>
            <tr>
                <th>Field</th>
                <th>Show?</th>
                <th>Filter</th>
            </tr>
            <tr>
                <td>ID</td>
                <td>
                    <input type="checkbox" id="idCheck" value="ID" checked>
                </td>
                <td>
                    <input type="number" id="idFilter">
                </td>
            </tr>
            <tr>
                <td>Registree</td>
                <td>
                    <input type="checkbox" id="registreeCheck" value="Registree" checked>
                </td>
                <td>
                    <input list="registreeDatalist" id="registreeFilter">
                    <datalist id="registreeDatalist" data-key="Registree"></datalist>
                </td>
            </tr>
            <tr>
                <td>Status</td>
                <td>
                    <input type="checkbox" id="statusCheck" value="Status" checked>
                </td>
                <td>
                    <input type="radio" id="freedRadio" name="status"> Freed
                    <input type="radio" id="slaveRadio" name="status"> Slave
                    <input type="radio" id="anyStatusRadio" name="status"> Any
                </td>
            </tr>
            <tr>
                <td>Sex</td>
                <td>
                    <input type="checkbox" id="sexCheck" value="Sex" checked>
                </td>
                <td>
                    <input type="radio" id="maleRadio" name="sex"> Male
                    <input type="radio" id="femaleRadio" name="sex"> Female
                    <input type="radio" id="unspecifiedRadio" name="sex"> Unspecified
                    <input type="radio" id="anySexRadio" name="sex"> Any
                </td>
            </tr>
            <tr>
                <td>Origin</td>
                <td>
                    <input type="checkbox" id="originCheck" value="Origin" checked>
                </td>
                <td>
                    <input list="originDatalist" id="originFilter">
                    <datalist id="originDatalist" data-key="Origin"></datalist>
                </td>
            </tr>
            <tr>
                <td>Age</td>
                <td>
                    <input type="checkbox" id="ageCheck" value="Age" checked>
                </td>
                <td>
                    <div class="noUiSlider" id="ageSlider"></div>
                </td>
            </tr>
            <tr>
                <td>Occupation</td>
                <td>
                    <input type="checkbox" id="occupationCheck" value="Occupation" checked>
                </td>
                <td>
                    <input list="occupationDatalist" id="occupationFilter">
                    <datalist id="occupationDatalist" data-key="Occupation"></datalist>
                </td>
            </tr>
            <tr>
                <td>Master</td>
                <td>
                    <input type="checkbox" id="masterCheck" value="Master" checked>
                </td>
                <td>
                    <input list="masterDatalist" id="masterFilter">
                    <datalist id="masterDatalist" data-key="Master"></datalist>
                </td>
            </tr>
            <tr>
                <td>Master Residence</td>
                <td>
                    <input type="checkbox" id="masterResidenceCheck" value="Master Residence" checked>
                </td>
                <td>
                    <input list="masterResidenceDatalist" id="masterResidenceFilter">
                    <datalist id="masterResidenceDatalist" data-key="Master Residence"></datalist>
                </td>
            </tr>
            <tr>
                <td>Registration Date</td>
                <td>
                    <input type="checkbox" id="registrationDateCheck" value="Registration Date" checked>
                </td>
                <td>
                    <div class="noUiSlider" id="dateSlider"></div>
                </td>

            </tr>
            <tr>
                <td>Registration District</td>
                <td>
                    <input type="checkbox" id="registrationDistrictCheck" value="Registration District" checked>
                </td>
                <td>
                    <input list="registrationDistrictDatalist" id="registrationDistrictFilter">
                    <datalist id="registrationDistrictDatalist" data-key="Registration District"></datalist>
                </td>
            </tr>
            <tr>
                <td>Sources</td>
                <td>
                    <input type="checkbox" id="sourcesCheck" value="Sources" checked>
                </td>
                <td>
                    <input list="sourcesDatalist" id="sourcesFilter">
                    <datalist id="sourcesDatalist" data-key="Sources"></datalist>
                </td>
            </tr>
        </table>
    </form>

    <div class="w3-bar w3-light-gray">
        <button id="histogramOverTimeButton" class="w3-bar-item w3-button">Histogram</button>
        <button id="pieButton" class="w3-bar-item w3-button">Pie</button>
        <button id="mapButton" class="w3-bar-item w3-button">Map</button>
    </div>

    <div id="histogramOverTime" class="w3-container w3-animate-opacity viz">
        <h2>Histogram</h2>
        <div id="histogramOverTimeChart"></div>
    </div>

    <div id="pie" class="w3-container w3-animate-opacity viz" style="display:none">
        <h2>Pie</h2>
        <select id='pieSelect'>
            <option value='Status'>Status</option>
            <option value='Sex'>Sex</option>
            <option value='Origin'>Origin</option>
            <option value='Occupation'>Occupation</option>
            <option value='Registration District'>Registration District</option>
        </select>
        <div id="pieChart"></div>
    </div>

    <div id="map" class="w3-container w3-animate-opacity viz" style="display:none">
        <h2>Map</h2>
        <input type="radio" id="originMapRadio" name="map"> Origin
        <input type="radio" id="registrationDistrictMapRadio" name="map"> Registration District
        <input type="radio" id="combinedMapRadio" name="map"> Combined
        <div id="mapChart" style="position:relative"></div>
    </div>

    <div id="table"></div>

    <a id="downloadAllBtn" href="boc.csv">Download dataset</a>

    <script type="text/javascript" src="main.js"></script>
</body>

</html>
